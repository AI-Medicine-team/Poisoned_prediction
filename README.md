# Constructing an effective and practical multi-step feature selection framework for electronic medical records

Purpose: Acute poisoning remains a significant global public health issue, contributing to substantial morbidity and mortality. This study aimed to leverage artificial intelligence (AI) methods, including machine learning and deep learning, to predict clinical adverse outcomes in emergence department (ED) patients with acute poisoning, identify critical risk factors, and enhance interpretability for clinical decision-making. 
Methods: We conducted a seven-year observational cohort study, analyzing 1,798 cases of acute poisoning admitted to the ED of a tertiary teaching hospital in China from July 2018 to August 2025. Clinical characteristics were extracted from electronic medical records. Patient outcomes were classified as recovery, incomplete recovery, or death. The study employed a rigorous two-phase design: an internal cross-validation cohort (〖CV〗_Int, n=1,293; July 2018–July 2023) was used for model development and parameter optimization; a separate external temporal validation cohort (〖TV〗_Ext, n=505; August 2023–August 2025) was used to assess the model’s generalizability and real-world performance. Four machine learning models (Catboost, LightGBM, XGBoost, Random Forest, and Logistic Regression) and two deep learning models (DNN and LSTM) were developed to predict adverse outcomes, with model interpretability enhanced using SHAP (SHapley Additive exPlanations) and large language models (LLM) to generate patient-specific clinically interpretable summaries. Model performance was assessed using the area under receiver operating characteristic curve (AUROC) and area under precision-recall curve (AUPRC), and decision curve analysis. 
Results: Among the 971 cases included in the final internal analysis cohort, 75.3% recovered, 16.3% had incomplete recovery, and 8.4% died; In the 501 external validation patients were included, the corresponding outcome proportions were 78.4%, 15.8%, and 5.8%, demonstrating a similar but slightly more favorable outcome distribution. In the internal validation cohort, pesticide poisoning was the most prevalent type (48.8%), whereas drug poisoning predominated in the external validation cohort (54.9%). Despite this shift in etiology, pesticide poisoning exhibited the highest mortality rate in both cohorts—15.4% internally and 16.9% externally—highlighting its disproportionate clinical severity. The CatBoost model achieved the best predictive performance, with an AUROC of 0.854 (95% CI, 0.808–0.896) and AURPC of 0.467 (95% CI, 0.361–0.569) for death prediction; an AUROC of 0.824 (95% CI, 0.791–0.856) and AUPRC of 0.701 (95% CI, 0.644–0.753) for non-recovery (incomplete recovery or death) prediction.  In the external validation cohort, the model maintained high predictive performance, achieving AUROC of 0.866 (95% CI, 0.772–0.936) and AURPC of 0.485 (95% CI, 0.312–0.649) for death; an AUROC of 0.802 (95% CI, 0.753–0.848) and AURPC of 0.628 (95% CI, 0.538–0.707) for non-recovery, confirming its robustness and generalizability. Decision curve analysis indicated that the machine learning models provided higher net benefits. SHAP and LLM analyses highlighted key predictors of poor outcomes, including type and severity of poisoning, elevated white blood cell count, abnormal liver function, altered mental status, and limited hospital stay, providing individualized risk explanations for clinical decision support.
Conclusion: This study demonstrates the potential of AI-based models to accurately predict adverse outcomes in ED acute poisoning patients, offering interpretable, patient-specific risk insights. Integration of SHAP with LLM-generated narratives supports early risk stratification and targeted interventions, facilitating personalized management strategies in acute poisoning. 
